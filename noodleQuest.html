<!DOCTYPE html>
<title>Noodle's Quest</title>
<canvas width="1300" height="210"></canvas>

<script>
    var player =
        {
            //TODO decide values
            positionX: 0,
            positionY: 0,
            warmth: 10,
            //TODO fix place holder below
            image: "snake.png",
            hasMouse: false,
            Update: function ()
            {
                //TODO (check which squares player is in, lose one heat)

                //TODO If sunlight, warmth = 10

                //TODO If(warmth = 0) Game over

                //TODO If hawk, display game over screen

                //TODO If points, score += 5

                //TODO If mouse, hasMouse = true

                //TODO If home and hasMouse = true, display win screen
            }
            
        };

    function Tile(_image, _size) {
        this.image = _image;
        this.size = _size;
    };

    function Hawk(_x, _y) {
        this.image = "Images/Hawk.jpg";
        this.positionX = _x;
        this.positionY = _y;
    };
    
    var map =
        {
            size: 150,
            //TODO figure out if this works
            home: Tile("Images/Home.jpg", size),
            mouse: Tile("Images/Mouse.jpg", size),
            empty: Tile("Images/Grass", size),
            sun: Tile("Images/Sunlight.jpg", size),
            pointsTile: Tile("Images/PointSquare.jpg", size),
            rockWall: Tile("Images/Rock.jpg", size),
            //TODO Matrix of tile objects
            createMatrix: function ()
            {
                //determine maximum size
                var iMax = 15;
                var jMax = 5;
                //instantiate the array
                var mapMatrix = new Array(),
                //set every value to zero
                for (i = 0; i < iMax; i++)
                {
                    mapMatrix[i] = new Array();
                    for (j = 0; j < jMax; j++)
                    {
                        mapMatrix[i][j] = empty;
                    }
                }
                //TODO manually input everything that is a thing
                //mapMatrix[x][y] = tileName;

                mapMatrix[1][1] = home;
                mapMatrix[2][1] = rockWall;
                mapMatrix[3][1] = sun;
                mapMatrix[10][1] = rockWall;
                mapMatrix[11][1] = rockWall;
                mapMatrix[12][1] = sun;

                mapMatrix[2][2] = rockWall;
                mapMatrix[9][2] = sun;
                mapMatrix[10][2] = rockWall;
                mapMatrix[11][2] = rockWall;
                mapMatrix[15][2] = sun;

                mapMatrix[5][3] = sun;
                mapMatrix[8][3] = rockWall;

                mapMatrix[3][4] = rockWall;
                mapMatrix[5][4] = rockWall;
                mapMatrix[6][4] = rockWall;
                mapMatrix[12][4] = rockWall;
                mapMatrix[14][4] = rockWall;

                mapMatrix[1][5] = sun;
                mapMatrix[5][5] = rockWall;
                mapMatrix[6][5] = rockWall;
                mapMatrix[7][5] = sun;
                mapMatrix[12][5] = sun;
                mapMatrix[14][5] = rockWall;
                mapMatrix[15][5] = mouse;

                //for convenience the two hawks are at [2][6] and [10][4]
            },
            
            //Hawk array of 2
            hawk1: Hawk(3, 3),
            hawk2: Hawk(3, 3),
            hawks: [hawk1, hawk2],
            score,
            Update: function ()
            {
                //TODO move hawks using RnG
                //Random number 0 - 3
                Math.floor(Math.random() * 4);  
                //TODO If (number = 0 & hawk.x > 0) Go left
                //TODO Etc…
                //TODO If(player.location = hawk.location) Game over
		        //TODO Decrease score by 1
            }
        };
    
    window.addEventListener("keydown", keydownHandler, false);
    window.addEventListener("keyup", keyupHandler, false);

    function keydownHandler(event)
    {
        //TODO If(arrow directions) move in that direction
        player.Update();
        map.Update();
        Render();
    };

    function keyupHandler(event)
    {
        //TODO fun stuff
    };
    
    function GameOver()
    {
        //TODO Game Over pop- up
        //TODO Refresh button
    }

    //create canvas and drawing stuff I guess
    var canvas = document.querySelector("canvas");
    var drawingSurface = canvas.getContext("2d");

    //TODO image stuff not sure if needed
    /*
    var image = new Image();
    image.addEventListener("load", render, false);
    image.src = snake.IMAGE;
    */
    //event listeners
    function Render()
    {
        //clear the screen
        drawingSurface.clearRect(0, 0, canvas.width, canvas.height);
        //TODO DrawMap
        //TODO DrawPlayer
        //TODO DrawSidebar
    }
    
    function Sidebar()
    {
        //TODO Title of game
        //TODO displays map.Score
        //TODO displays Player.Sunlight
        //TODO displays player.hasMouse
        //TODO Instructions
    }
    
</script>
